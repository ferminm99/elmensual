import{B as c,D as d,E as o,m as r,G as l,$ as h,a0 as w,H as b,I as t}from"./vue-Dp34GT9d.js";import{_ as y}from"./app-BHOrBh52.js";import"./vuetify-HETxidax.js";const V={data(){return{email:"",password:"",error:null,errorMessage:null}},mounted(){axios.get("/user").then(n=>{n.data&&this.$router.push("/")})},methods:{async login(){this.error=null;try{await axios.get("/sanctum/csrf-cookie"),await axios.post("/login",{email:this.email,password:this.password},{withCredentials:!0}),this.$router.push("/")}catch(n){n.response&&n.response.status===401?this.errorMessage="Credenciales incorrectas.":this.errorMessage="Error al intentar iniciar sesión."}}}};function k(n,e,C,M,s,m){const u=t("v-card-title"),i=t("v-text-field"),p=t("v-btn"),_=t("v-alert"),f=t("v-form"),v=t("v-card-text"),g=t("v-card"),x=t("v-container");return c(),d(x,{class:"fill-height d-flex align-center justify-center"},{default:o(()=>[r(g,{elevation:"4",width:"400"},{default:o(()=>[r(u,{class:"text-center font-weight-bold text-h5"},{default:o(()=>e[2]||(e[2]=[l(" Iniciar Sesión ")])),_:1}),r(v,null,{default:o(()=>[r(f,{onSubmit:h(m.login,["prevent"])},{default:o(()=>[r(i,{modelValue:s.email,"onUpdate:modelValue":e[0]||(e[0]=a=>s.email=a),label:"Email",type:"email",required:""},null,8,["modelValue"]),r(i,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=a=>s.password=a),label:"Contraseña",type:"password",required:""},null,8,["modelValue"]),r(p,{color:"black",block:"",type:"submit",class:"mt-4"},{default:o(()=>e[3]||(e[3]=[l(" Ingresar ")])),_:1}),s.errorMessage?(c(),d(_,{key:0,type:"error",dismissible:"",class:"mt-3"},{default:o(()=>[l(w(s.errorMessage),1)]),_:1})):b("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}const I=y(V,[["render",k]]);export{I as default};
